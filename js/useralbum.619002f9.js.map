{"version":3,"sources":["webpack:///./src/views/user/UserAlbum.vue?e5b8","webpack:///src/views/user/UserAlbum.vue","webpack:///./src/views/user/UserAlbum.vue?3a80","webpack:///./src/views/user/UserAlbum.vue","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_m","staticClass","on","$event","openAlbumModal","_v","album","length","staticStyle","_e","_l","image","i","key","_id","ref","refInFor","editAlbum","deleteAlbum","_s","illustrator","openCabinetModal","cabinet","editCabinet","deleteCabinet","resetModal","model","value","callback","$$v","expression","form","preventDefault","submitAlbum","apply","arguments","$set","name","modalSubmitting","submitCabinet","staticRenderFns","data","index","methods","event","icon","title","text","fd","headers","authorization","created","component","$","global","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength"],"mappings":"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","file":"js/useralbum.619002f9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"useralbum\"}},[_vm._m(0),_c('b-tabs',[_c('b-tab-item',{attrs:{\"label\":\"相簿\"}},[_c('b-button',{staticClass:\"is-success album-button\",on:{\"click\":function($event){_vm.openAlbumModal = true}}},[_vm._v(\"新增\")]),_c('div',{staticClass:\"album-container\"},[(_vm.album.length === 0)?_c('p',{staticStyle:{\"width\":\"100%\",\"text-align\":\"center\"}},[_vm._v(\"請新增作品\")]):_vm._e(),_vm._l((_vm.album),function(image,i){return _c('div',{key:image._id,ref:\"card\",refInFor:true,staticClass:\"col\"},[_c('div',{staticClass:\"image-card\"},[_c('b-button',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.editAlbum(i)}}},[_c('b-icon',{attrs:{\"pack\":\"fas\",\"icon\":\"pen\"}})],1),_c('b-button',{staticClass:\"delete is-danger\",on:{\"click\":function($event){return _vm.deleteAlbum(i)}}},[_c('b-icon',{attrs:{\"pack\":\"fas\",\"icon\":\"xmark\"}})],1),_c('img',{attrs:{\"src\":image.image}}),_c('div',{staticClass:\"album-overlay\"},[_c('p',{staticClass:\"album-illustrator\"},[_vm._v(\" \"+_vm._s('繪師 ✦ ' + image.illustrator)+\" \")])])],1)])})],2)],1),_c('b-tab-item',{attrs:{\"label\":\"衣櫃\"}},[_c('b-button',{staticClass:\"is-success album-button\",on:{\"click\":function($event){_vm.openCabinetModal = true}}},[_vm._v(\"新增\")]),_c('div',{staticClass:\"album-container\"},[(_vm.cabinet.length === 0)?_c('p',{staticStyle:{\"width\":\"100%\",\"text-align\":\"center\"}},[_vm._v(\"請新增作品\")]):_vm._e(),_vm._l((_vm.cabinet),function(image,i){return _c('div',{key:image._id,staticClass:\"col\"},[_c('div',{staticClass:\"image-card\"},[_c('b-button',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.editCabinet(i)}}},[_c('b-icon',{attrs:{\"pack\":\"fas\",\"icon\":\"pen\"}})],1),_c('b-button',{staticClass:\"delete is-danger\",on:{\"click\":function($event){return _vm.deleteCabinet(i)}}},[_c('b-icon',{attrs:{\"pack\":\"fas\",\"icon\":\"xmark\"}})],1),_c('img',{attrs:{\"src\":image.image}}),_c('div',{staticClass:\"album-overlay\"},[_c('p',{staticClass:\"album-illustrator\"},[_vm._v(\" \"+_vm._s('繪師 ✦ ' + image.illustrator)+\" \")])])],1)])})],2)],1)],1),_c('b-modal',{attrs:{\"width\":\"700px\",\"scroll\":\"keep\"},on:{\"close\":_vm.resetModal},model:{value:(_vm.openAlbumModal),callback:function ($$v) {_vm.openAlbumModal=$$v},expression:\"openAlbumModal\"}},[_c('div',{staticClass:\"normal-form\"},[_c('div',{staticClass:\"modal-red\"},[(!_vm.form._id.length > 0)?_c('h1',[_vm._v(\"新增相簿圖片\")]):_vm._e(),(_vm.form._id.length > 0)?_c('h1',[_vm._v(\"編輯相簿圖片\")]):_vm._e()]),_c('div',{staticClass:\"modal-white\"},[_c('form',{staticClass:\"form-group\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitAlbum.apply(null, arguments)}}},[_c('b-field',{attrs:{\"label\":\"✦ 圖片\",\"label-for\":\"image\"}},[_c('b-upload',{attrs:{\"id\":\"image\",\"drag-drop\":\"\",\"expanded\":\"\"},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[_c('p',[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-large\"}})],1),_c('p',[_vm._v(\" 點選或拖曳上傳圖片\"),_c('br')])])])])],1),(_vm.form.image)?_c('span',{staticClass:\"tag is-primary\"},[_vm._v(_vm._s(_vm.form.image.name))]):_vm._e(),_c('b-field',{attrs:{\"label\":\"✦ 繪師\",\"label-for\":\"character-introduction\"}},[_c('b-input',{attrs:{\"id\":\"character-introduction\",\"placeholder\":\"請輸入繪師名稱\"},model:{value:(_vm.form.illustrator),callback:function ($$v) {_vm.$set(_vm.form, \"illustrator\", $$v)},expression:\"form.illustrator\"}})],1),_c('div',{staticClass:\"buttons\"},[_c('b-button',{staticClass:\"is-dark\",attrs:{\"disabled\":_vm.modalSubmitting},on:{\"click\":_vm.resetModal}},[_vm._v(\"取消\")]),_c('input',{staticClass:\"button is-success submit\",attrs:{\"type\":\"submit\",\"value\":\"送出\",\"disabled\":_vm.modalSubmitting}})],1)],1)])])]),_c('b-modal',{attrs:{\"width\":\"700px\",\"scroll\":\"keep\"},on:{\"close\":_vm.resetModal},model:{value:(_vm.openCabinetModal),callback:function ($$v) {_vm.openCabinetModal=$$v},expression:\"openCabinetModal\"}},[_c('div',{staticClass:\"normal-form\"},[_c('div',{staticClass:\"modal-red\"},[(!_vm.form._id.length > 0)?_c('h1',[_vm._v(\"新增衣櫃圖片\")]):_vm._e(),(_vm.form._id.length > 0)?_c('h1',[_vm._v(\"編輯衣櫃圖片\")]):_vm._e()]),_c('div',{staticClass:\"modal-white\"},[_c('form',{staticClass:\"form-group\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitCabinet.apply(null, arguments)}}},[_c('b-field',{attrs:{\"label\":\"✦ 圖片\",\"label-for\":\"image\"}},[_c('b-upload',{attrs:{\"id\":\"image\",\"drag-drop\":\"\",\"expanded\":\"\"},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[_c('p',[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-large\"}})],1),_c('p',[_vm._v(\" 點選或拖曳上傳圖片\"),_c('br')])])])])],1),(_vm.form.image)?_c('span',{staticClass:\"tag is-primary\"},[_vm._v(_vm._s(_vm.form.image.name))]):_vm._e(),_c('b-field',{attrs:{\"label\":\"✦ 繪師\",\"label-for\":\"character-introduction\"}},[_c('b-input',{attrs:{\"id\":\"character-introduction\",\"placeholder\":\"請輸入繪師名稱\"},model:{value:(_vm.form.illustrator),callback:function ($$v) {_vm.$set(_vm.form, \"illustrator\", $$v)},expression:\"form.illustrator\"}})],1),_c('div',{staticClass:\"buttons\"},[_c('b-button',{staticClass:\"is-dark\",attrs:{\"disabled\":_vm.modalSubmitting},on:{\"click\":_vm.resetModal}},[_vm._v(\"取消\")]),_c('input',{staticClass:\"button is-success submit\",attrs:{\"type\":\"submit\",\"value\":\"送出\",\"disabled\":_vm.modalSubmitting}})],1)],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-plus\"},[_c('h1',{staticClass:\"management-title\"},[_vm._v(\"相簿管理\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"useralbum\">\n    <div class=\"title-plus\">\n      <h1 class=\"management-title\">相簿管理</h1>\n    </div>\n    <b-tabs>\n      <b-tab-item label=\"相簿\">\n        <b-button class=\"is-success album-button\" @click=\"openAlbumModal = true\">新增</b-button>\n        <div class=\"album-container\">\n          <p v-if=\"album.length === 0\" style=\"width: 100%; text-align: center;\">請新增作品</p>\n          <div class=\"col\" v-for=\"(image, i) in album\" :key=\"image._id\" ref=\"card\">\n            <div class=\"image-card\">\n              <b-button class=\"edit\" @click=\"editAlbum(i)\">\n                <b-icon pack=\"fas\" icon=\"pen\"></b-icon>\n              </b-button>\n              <b-button class=\"delete is-danger\" @click=\"deleteAlbum(i)\">\n                <b-icon pack=\"fas\" icon=\"xmark\"></b-icon>\n              </b-button>\n              <img :src=\"image.image\">\n              <div class=\"album-overlay\">\n                <p class=\"album-illustrator\"> {{ '繪師 ✦ ' + image.illustrator }} </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-tab-item>\n      <b-tab-item label=\"衣櫃\">\n        <b-button class=\"is-success album-button\" @click=\"openCabinetModal = true\">新增</b-button>\n        <div class=\"album-container\">\n          <p v-if=\"cabinet.length === 0\" style=\"width: 100%; text-align: center;\">請新增作品</p>\n          <div class=\"col\" v-for=\"(image, i) in cabinet\" :key=\"image._id\">\n            <div class=\"image-card\">\n              <b-button class=\"edit\" @click=\"editCabinet(i)\">\n                <b-icon pack=\"fas\" icon=\"pen\"></b-icon>\n              </b-button>\n              <b-button class=\"delete is-danger\" @click=\"deleteCabinet(i)\">\n                <b-icon pack=\"fas\" icon=\"xmark\"></b-icon>\n              </b-button>\n              <img :src=\"image.image\">\n              <div class=\"album-overlay\">\n                <p class=\"album-illustrator\"> {{ '繪師 ✦ ' + image.illustrator }} </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-tab-item>\n    </b-tabs>\n    <!-- albumModal -->\n    <b-modal v-model=\"openAlbumModal\" width=\"700px\" scroll=\"keep\" @close=\"resetModal\">\n      <div class=\"normal-form\">\n        <div class=\"modal-red\">\n          <h1 v-if=\"!form._id.length > 0\">新增相簿圖片</h1>\n          <h1 v-if=\"form._id.length > 0\">編輯相簿圖片</h1>\n        </div>\n        <div class=\"modal-white\">\n          <form class=\"form-group\" @submit.prevent=\"submitAlbum\">\n            <b-field label=\"✦ 圖片\" label-for=\"image\">\n              <b-upload id=\"image\" v-model=\"form.image\" drag-drop expanded>\n                <section class=\"section\">\n                  <div class=\"content has-text-centered\">\n                    <p>\n                      <b-icon icon=\"upload\" size=\"is-large\"></b-icon>\n                    </p>\n                    <p>\n                      點選或拖曳上傳圖片<br>\n                    </p>\n                  </div>\n                </section>\n              </b-upload>\n            </b-field>\n            <span v-if=\"form.image\" class=\"tag is-primary\">{{ form.image.name }}</span>\n            <b-field label=\"✦ 繪師\" label-for=\"character-introduction\">\n              <b-input v-model=\"form.illustrator\" id=\"character-introduction\" placeholder=\"請輸入繪師名稱\"></b-input>\n            </b-field>\n            <div class=\"buttons\">\n              <b-button class=\"is-dark\" @click=\"resetModal\" :disabled=\"modalSubmitting\">取消</b-button>\n              <input type=\"submit\" value=\"送出\" class=\"button is-success submit\" :disabled=\"modalSubmitting\">\n            </div>\n          </form>\n        </div>\n      </div>\n    </b-modal>\n    <!-- cabinetModal -->\n    <b-modal v-model=\"openCabinetModal\" width=\"700px\" scroll=\"keep\" @close=\"resetModal\">\n      <div class=\"normal-form\">\n        <div class=\"modal-red\">\n          <h1 v-if=\"!form._id.length > 0\">新增衣櫃圖片</h1>\n          <h1 v-if=\"form._id.length > 0\">編輯衣櫃圖片</h1>\n        </div>\n        <div class=\"modal-white\">\n          <form class=\"form-group\" @submit.prevent=\"submitCabinet\">\n            <b-field label=\"✦ 圖片\" label-for=\"image\">\n              <b-upload id=\"image\" v-model=\"form.image\" drag-drop expanded>\n                <section class=\"section\">\n                  <div class=\"content has-text-centered\">\n                    <p>\n                      <b-icon icon=\"upload\" size=\"is-large\"></b-icon>\n                    </p>\n                    <p>\n                      點選或拖曳上傳圖片<br>\n                    </p>\n                  </div>\n                </section>\n              </b-upload>\n            </b-field>\n            <span v-if=\"form.image\" class=\"tag is-primary\">{{ form.image.name }}</span>\n            <b-field label=\"✦ 繪師\" label-for=\"character-introduction\">\n              <b-input v-model=\"form.illustrator\" id=\"character-introduction\" placeholder=\"請輸入繪師名稱\"></b-input>\n            </b-field>\n            <div class=\"buttons\">\n              <b-button class=\"is-dark\" @click=\"resetModal\" :disabled=\"modalSubmitting\">取消</b-button>\n              <input type=\"submit\" value=\"送出\" class=\"button is-success submit\" :disabled=\"modalSubmitting\">\n            </div>\n          </form>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    return {\n      album: [],\n      cabinet: [],\n      openAlbumModal: false,\n      openCabinetModal: false,\n      modalSubmitting: false,\n      form: {\n        image: null,\n        illustrator: '',\n        _id: '',\n        index: -1\n      }\n    }\n  },\n  methods: {\n    async submitAlbum (event) {\n      if (this.user.token.length === 0) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '請先登入'\n        })\n        this.$router.push('/')\n        return\n      }\n      event.preventDefault()\n      this.modalSubmitting = true\n\n      try {\n        if (this.form._id.length === 0) {\n          const fd = new FormData()\n          for (const key in this.form) {\n            if (key !== '_id') {\n              fd.append(key, this.form[key])\n            }\n          }\n\n          if (this.form.image.length === 0) {\n            this.$swal({\n              icon: 'error',\n              title: '錯誤',\n              text: '請上傳圖片檔案'\n            })\n            return\n          }\n          const { data } = await this.api.post('/users/album', fd, {\n            headers: {\n              authorization: 'Bearer ' + this.user.token\n            }\n          })\n          this.album.push(data.result)\n          this.$swal({\n            icon: 'success',\n            title: '成功',\n            text: '新增作品成功'\n          })\n        } else {\n          const fd = new FormData()\n          for (const key in this.form) {\n            fd.append(key, this.form[key])\n          }\n          const { data } = await this.api.patch('/users/album', fd, {\n            headers: {\n              authorization: 'Bearer ' + this.user.token\n            }\n          })\n          this.album[this.form.index] = { ...this.form, image: data.result.album[this.form.index].image }\n          this.$swal({\n            icon: 'success',\n            title: '成功',\n            text: '更新成功'\n          })\n        }\n        this.form = {\n          image: null,\n          illustrator: '',\n          _id: '',\n          index: -1\n        }\n        this.openAlbumModal = false\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '上傳失敗'\n        })\n      }\n      this.modalSubmitting = false\n    },\n    async submitCabinet (event) {\n      if (this.user.token.length === 0) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '請先登入'\n        })\n        this.$router.push('/')\n        return\n      }\n      event.preventDefault()\n      this.modalSubmitting = true\n\n      try {\n        if (this.form._id.length === 0) {\n          const fd = new FormData()\n          for (const key in this.form) {\n            if (key !== '_id') {\n              fd.append(key, this.form[key])\n            }\n          }\n\n          if (this.form.image.length === 0) {\n            this.$swal({\n              icon: 'error',\n              title: '錯誤',\n              text: '請上傳圖片檔案'\n            })\n            return\n          }\n          const { data } = await this.api.post('/users/cabinet', fd, {\n            headers: {\n              authorization: 'Bearer ' + this.user.token\n            }\n          })\n          this.cabinet.push(data.result)\n          this.$swal({\n            icon: 'success',\n            title: '成功',\n            text: '新增作品成功'\n          })\n        } else {\n          const fd = new FormData()\n          for (const key in this.form) {\n            fd.append(key, this.form[key])\n          }\n          const { data } = await this.api.patch('/users/cabinet', fd, {\n            headers: {\n              authorization: 'Bearer ' + this.user.token\n            }\n          })\n          this.cabinet[this.form.index] = { ...this.form, image: data.result.cabinet[this.form.index].image }\n          this.$swal({\n            icon: 'success',\n            title: '成功',\n            text: '更新成功'\n          })\n        }\n        this.form = {\n          image: null,\n          illustrator: '',\n          _id: '',\n          index: -1\n        }\n        this.openCabinetModal = false\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '上傳失敗'\n        })\n      }\n      this.modalSubmitting = false\n    },\n    editAlbum (index) {\n      this.form = { ...this.album[index], image: null, index }\n      this.openAlbumModal = true\n    },\n    editCabinet (index) {\n      this.form = { ...this.cabinet[index], image: null, index }\n      this.openCabinetModal = true\n    },\n    resetModal (event) {\n      if (this.modalSubmitting) {\n        event.preventDefault()\n        return\n      }\n      this.form = {\n        image: null,\n        illustrator: '',\n        _id: '',\n        index: -1\n      }\n      this.openAlbumModal = false\n      this.openCabinetModal = false\n    },\n    async deleteAlbum (index) {\n      try {\n        await this.api.delete('users/album/' + this.album[index]._id, {\n          headers: {\n            authorization: 'Bearer ' + this.user.token\n          }\n        })\n        this.album.splice(index, 1)\n        this.$swal({\n          icon: 'success',\n          title: '成功',\n          text: '刪除成功'\n        })\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '刪除失敗'\n        })\n      }\n    },\n    async deleteCabinet (index) {\n      try {\n        await this.api.delete('users/cabinet/' + this.cabinet[index]._id, {\n          headers: {\n            authorization: 'Bearer ' + this.user.token\n          }\n        })\n        this.cabinet.splice(index, 1)\n        this.$swal({\n          icon: 'success',\n          title: '成功',\n          text: '刪除成功'\n        })\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '刪除失敗'\n        })\n      }\n    }\n  },\n  async created () {\n    if (this.user.token.length === 0) return\n    try {\n      const { data } = await this.api.get('/users/me', {\n        headers: {\n          authorization: 'Bearer ' + this.user.token\n        }\n      })\n      this.album = data.result.album\n      this.cabinet = data.result.cabinet\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: '取得資料失敗'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAlbum.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAlbum.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAlbum.vue?vue&type=template&id=58dbf11e&\"\nimport script from \"./UserAlbum.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAlbum.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}