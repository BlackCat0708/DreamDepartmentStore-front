(function(t){function e(e){for(var n,a,i=e[0],u=e[1],l=e[2],c=0,m=[];c<i.length;c++)a=i[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={app:0},s=[];function a(t){return i.p+"js/"+({about:"about",admin:"admin",adminorders:"adminorders",adminproducts:"adminproducts",adminquestions:"adminquestions",adminusers:"adminusers",commissionsList:"commissionsList",illustrator:"illustrator",illustratoralbum:"illustratoralbum",illustratorhome:"illustratorhome",illustratormyinfo:"illustratormyinfo",illustratororders:"illustratororders",illustratorproducts:"illustratorproducts",illustratorsList:"illustratorsList",member:"member",notfound:"notfound",product:"product",terms:"terms",user:"user",useralbum:"useralbum",userhome:"userhome",usermyinfo:"usermyinfo",userorders:"userorders"}[t]||t)+"."+{about:"a4f4ac8c",admin:"f7b429f9",adminorders:"aa156c90",adminproducts:"763a45e7",adminquestions:"55d2b67f",adminusers:"41da56d1",commissionsList:"9dcac5bb",illustrator:"54321fc3",illustratoralbum:"e835dae9",illustratorhome:"c6393b80",illustratormyinfo:"2acb7b8f",illustratororders:"f4fec0a6",illustratorproducts:"b9c3b7cf",illustratorsList:"044795d5",member:"7f4192e6",notfound:"cf08144f",product:"dbdc2b45",terms:"c7cbac1a",user:"f823c76a",useralbum:"40c8bee8",userhome:"6832d6fa",usermyinfo:"9ee4a025",userorders:"231fc6a2"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],r=o[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=n);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=a(t);var l=new Error;s=function(e){u.onerror=u.onload=null,clearTimeout(c);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",l.name="ChunkLoadError",l.type=n,l.request=s,r[1](l)}o[t]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var d=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"1bed":function(t,e,r){t.exports=r.p+"img/夢百貨_ribbon02.ab2f03a1.png"},"3c6f":function(t,e,r){t.exports=r.p+"img/2022011602.fdb21ff9.jpg"},"56d7":function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"login",(function(){return L})),r.d(n,"logout",(function(){return O})),r.d(n,"getUserInfo",(function(){return I})),r.d(n,"editInfo",(function(){return R}));var o={};r.r(o),r.d(o,"user",(function(){return E}));var s={};r.r(s),r.d(s,"login",(function(){return T})),r.d(s,"logout",(function(){return U})),r.d(s,"getUserInfo",(function(){return B})),r.d(s,"extend",(function(){return q})),r.d(s,"editInfo",(function(){return z}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=r("289d"),u=(r("d3b7"),r("caad"),r("2532"),r("bc3a")),l=r.n(u),c=r("130e"),d=r("3d20"),m=r.n(d),p=r("2f62"),f=r("0e44"),g=function(){return{token:"",account:"",role:0,nickname:"",headshot:""}},h=r("1da1"),b=(r("96cf"),r("3ca3"),r("ddb0"),r("8c4f")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("section",{attrs:{id:"carousel"}},[n("b-carousel",{attrs:{animated:t.animated,arrow:t.arrow,"has-drag":t.drag,autoplay:t.autoPlay,"pause-hover":t.pauseHover,"pause-info":t.pauseInfo,interval:t.interval,repeat:t.repeat},model:{value:t.carousel,callback:function(e){t.carousel=e},expression:"carousel"}},[n("b-carousel-item",[n("img",{attrs:{src:r("5ef4")}})]),n("b-carousel-item",[n("img",{attrs:{src:r("3c6f")}})]),n("b-carousel-item",[n("img",{attrs:{src:r("e9fe")}})])],1)],1),n("section",{attrs:{id:"homeCommissions"}},[n("div",{staticClass:"container home-container"},[t._m(0),n("div",{staticClass:"row"},t._l(t.products,(function(t){return n("div",{key:t._id,staticClass:"col"},[n("ProductCard",{attrs:{product:t}})],1)})),0)])])])},k=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-title"},[r("h1",[t._v("－最新委託－")]),r("h3",[t._v("Latest Commissions")])])}],w=r("e915"),_={components:{ProductCard:w["a"]},data:function(){return{arrow:!1,carousel:0,animated:"scroll",drag:!0,autoPlay:!0,pauseHover:!0,pauseInfo:!1,repeat:!0,interval:5e3,products:[]}},created:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/products");case 3:r=e.sent,n=r.data,t.products=n.result.reverse(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"商品取得失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},y=_,x=r("2877"),C=Object(x["a"])(y,v,k,!1,null,null,null),P=C.exports;a["a"].use(b["a"]);var A=[{path:"/",name:"Home",component:P,meta:{title:"夢百貨"}},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))},meta:{title:"關於夢百貨 ✦ 夢百貨"}},{path:"/commissionsList",name:"CommissionsList",component:function(){return r.e("commissionsList").then(r.bind(null,"4aad"))},meta:{title:"委託列表 ✦ 夢百貨"}},{path:"/illustratorsList",name:"IllustratorsList",component:function(){return r.e("illustratorsList").then(r.bind(null,"31c3"))},meta:{title:"創作者列表 ✦ 夢百貨"}},{path:"/terms",name:"Terms",component:function(){return r.e("terms").then(r.bind(null,"bd91"))},meta:{title:"服務條款與隱私權政策 ✦ 夢百貨"}},{path:"/products/:id",name:"Products",component:function(){return r.e("product").then(r.bind(null,"e6dc"))},meta:{title:"委託項目 ✦ 夢百貨"}},{path:"/member/:id",name:"Member",component:function(){return r.e("member").then(r.bind(null,"80d2"))},meta:{title:"會員主頁 ✦ 夢百貨"}},{path:"/user",name:"User",component:function(){return r.e("user").then(r.bind(null,"9419"))},children:[{path:"",name:"UserHome",component:function(){return r.e("userhome").then(r.bind(null,"1010"))},meta:{login:!0,user:!0,title:"會員中心 ✦ 夢百貨 "}},{path:"myinfo",name:"UserMyInfo",component:function(){return r.e("usermyinfo").then(r.bind(null,"8380"))},meta:{login:!0,user:!0,title:"個人資料 ✦ 夢百貨 "}},{path:"album",name:"UserAlbum",component:function(){return r.e("useralbum").then(r.bind(null,"1c05"))},meta:{login:!0,user:!0,title:"相簿管理 ✦ 夢百貨 "}},{path:"orders",name:"UserOrders",component:function(){return r.e("userorders").then(r.bind(null,"3a33"))},meta:{login:!0,user:!0,title:" 委託交易 ✦ 夢百貨 "}}]},{path:"/illustrator",name:"Illustrator",component:function(){return r.e("illustrator").then(r.bind(null,"0ab4"))},children:[{path:"",name:"IllustratorHome",component:function(){return r.e("illustratorhome").then(r.bind(null,"f549"))},meta:{login:!0,illustrator:!0,title:"會員中心 ✦ 夢百貨 "}},{path:"myinfo",name:"IllustratorMyInfo",component:function(){return r.e("illustratormyinfo").then(r.bind(null,"8f81"))},meta:{login:!0,illustrator:!0,title:"個人資料 ✦ 夢百貨 "}},{path:"products",name:"IllustratorProducts",component:function(){return r.e("illustratorproducts").then(r.bind(null,"832f"))},meta:{login:!0,illustrator:!0,title:"項目管理 ✦ 夢百貨 "}},{path:"album",name:"IllustratorAlbum",component:function(){return r.e("illustratoralbum").then(r.bind(null,"d831"))},meta:{login:!0,illustrator:!0,title:"相簿管理 ✦ 夢百貨 "}},{path:"orders",name:"IllustratorOrders",component:function(){return r.e("illustratororders").then(r.bind(null,"ae3a"))},meta:{login:!0,illustrator:!0,title:"相簿管理 ✦ 夢百貨 "}}]},{path:"/admin",name:"Admin",component:function(){return r.e("admin").then(r.bind(null,"459d"))},children:[{path:"",name:"AdminUsers",component:function(){return r.e("adminusers").then(r.bind(null,"6e64"))},meta:{login:!0,admin:!0,title:"用戶管理 ✦ 夢百貨 "}},{path:"products",name:"AdminProducts",component:function(){return r.e("adminproducts").then(r.bind(null,"724a"))},meta:{login:!0,admin:!0,title:"項目管理 ✦ 夢百貨 "}},{path:"orders",name:"AdminOrders",component:function(){return r.e("adminorders").then(r.bind(null,"860c"))},meta:{login:!0,admin:!0,title:"訂單管理 ✦ 夢百貨 "}},{path:"questions",name:"AdminQuestions",component:function(){return r.e("adminquestions").then(r.bind(null,"2e34"))},meta:{login:!0,admin:!0,title:"問題回報 ✦ 夢百貨 "}}]},{path:"/404",name:"NotFound",component:function(){return r.e("notfound").then(r.bind(null,"9703"))},meta:{title:"Not Found ✦ 夢百貨"}},{path:"*",redirect:"/404"}],M=new b["a"]({routes:A});M.beforeEach((function(t,e,r){var n=S.getters["user/user"];t.meta.login&&!n.isLogin||t.meta.user&&n.isIllustrator||t.meta.illustrator&&n.isUser||t.meta.admin&&!n.isAdmin?r("/"):r()})),M.afterEach((function(t,e){document.title=t.meta.title}));var j=M,L=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e,r){var n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,D.post("/users/login",r);case 4:o=t.sent,s=o.data,n("login",s.result),m.a.fire({imageUrl:"https://res.cloudinary.com/duplahipf/image/upload/v1644452906/%E5%A4%A2%E7%99%BE%E8%B2%A8logo_mxa6fd.png",imageWidth:400,text:"歡迎光臨，夢百貨！"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),m.a.fire({icon:"error",title:"失敗",text:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),O=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,t.prev=1,t.next=4,D.delete("/users/logout",{headers:{authorization:"Bearer "+n.token}});case 4:r("logout"),j.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),m.a.fire({icon:"error",title:"失敗",text:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,n=e.state,0!==n.token.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,D.get("/users/me",{headers:{authorization:"Bearer "+n.token}});case 6:o=t.sent,s=o.data,r("getUserInfo",s.result),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),r("logout");case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e,r){var n,o,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,o=e.state,0!==o.token.length){t.next=5;break}return m.a.fire({icon:"error",title:"錯誤",text:"請先登入"}),j.push("/login"),t.abrupt("return");case 5:return t.prev=5,t.next=8,D.patch("/users/myinfo",r,{headers:{authorization:"Bearer "+o.token}});case 8:s=t.sent,a=s.data,m.a.fire({icon:"success",title:"成功",text:"資料更新成功"}),n("editInfo",a.result),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](5),m.a.fire({icon:"error",title:"錯誤",text:t.t0.response.resData.message});case 17:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e,r){return t.apply(this,arguments)}}(),$=r("5530"),E=function(t){return Object($["a"])({isLogin:t.token.length>0,isUser:0===t.role,isIllustrator:1===t.role,isAdmin:2===t.role},t)},T=function(t,e){t.token=e.token,t.account=e.account,t.role=e.role,t.nickname=e.nickname,t.headshot=e.headshot,t._id=e._id},U=function(t,e){t.token="",t.account="",t.role=0,t.nickname="",t.headshot=""},B=function(t,e){t.account=e.account,t.role=e.role,t.nickname=e.nickname,t.headshot=e.headshot,t._id=e._id},q=function(t,e){t.token=e},z=function(t,e){t.nickname=e.nickname,t.headshot=e.headshot},N={namespaced:!0,state:g,actions:n,getters:o,mutations:s};a["a"].use(p["a"]);var S=new p["a"].Store({state:{},mutations:{},actions:{},modules:{user:N},plugins:[Object(f["a"])({key:"dream",paths:["user.token"]})]}),D=l.a.create({baseURL:"https://dreamdepartmentstore.herokuapp.com/"});D.interceptors.response.use((function(t){return t}),(function(t){if(t.response){if(401===t.response.status&&"/users/extend"!==t.config.url){var e=t.config;return D.post("/users/extend",{},{headers:{authorization:"Bearer "+S.state.user.token}}).then((function(t){var r=t.data;return S.commit("user/extend",r.result.token),e.headers.authorization="Bearer "+S.state.user.token,l()(e)})).catch((function(t){return S.commit("user/logout"),j.push("/login"),Promise.reject(t)}))}}else"ECONNAMORTED "===t.code&&t.message.includes("timeout")?m.a.fire({icon:"error",title:"錯誤",text:"請求逾時"}):m.a.fire({icon:"error",title:"錯誤",text:"網路不穩定"});return Promise.reject(t)})),a["a"].use(c["a"],{axios:l.a,api:D});var H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"navbar"}},[n("div",{staticClass:"navbar-container"},[n("b-navbar",{scopedSlots:t._u([{key:"brand",fn:function(){return[n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[n("img",{attrs:{src:r("94db")}})])]},proxy:!0},{key:"start",fn:function(){return[n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/about"}}},[t._v(" 關於夢百貨 ")]),n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/commissionsList"}}},[t._v(" 委託列表 ")]),n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/illustratorsList"}}},[t._v(" 創作者列表 ")])]},proxy:!0},{key:"end",fn:function(){return[n("b-navbar-item",[n("div",{staticClass:"buttons"},[t.user.isLogin?t._e():n("b-button",{attrs:{type:"is-light"},on:{click:function(e){t.openLoginModal=!0}}},[t._v("會員登入")])],1)]),t.user.isLogin?n("div",{staticClass:"login"},[n("div",{staticClass:"navbarMenu"},[n("router-link",{staticClass:"navbar-headshot",attrs:{to:"/member/"+t.user._id}},[n("img",{attrs:{src:t.user.headshot}})]),n("b-navbar-dropdown",[t.user.isUser&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/user"}}},[n("b-icon",{attrs:{pack:"fas",icon:"gear"}}),n("p",[t._v("會員中心")])],1):t._e(),t.user.isIllustrator&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/illustrator"}}},[n("b-icon",{attrs:{pack:"fas",icon:"gear"}}),n("p",[t._v("會員中心")])],1):t._e(),t.user.isUser&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/user/myinfo"}}},[n("b-icon",{attrs:{pack:"fas",icon:"id-card"}}),n("p",[t._v("個人資料")])],1):t._e(),t.user.isIllustrator&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/illustrator/myinfo"}}},[n("b-icon",{attrs:{pack:"fas",icon:"id-card"}}),n("p",[t._v("個人資料")])],1):t._e(),t.user.isIllustrator&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/illustrator/products"}}},[n("b-icon",{attrs:{pack:"fas",icon:"list-check"}}),n("p",[t._v("項目管理")])],1):t._e(),t.user.isUser&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/user/album"}}},[n("b-icon",{attrs:{pack:"fas",icon:"images"}}),n("p",[t._v("相簿管理")])],1):t._e(),t.user.isIllustrator&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/illustrator/album"}}},[n("b-icon",{attrs:{pack:"fas",icon:"images"}}),n("p",[t._v("相簿管理")])],1):t._e(),t.user.isIllustrator&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/illustrator/orders"}}},[n("b-icon",{attrs:{pack:"fas",icon:"money-check-dollar"}}),n("p",[t._v("交易紀錄")])],1):t._e(),t.user.isUser&&!t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/user/orders"}}},[n("b-icon",{attrs:{pack:"fas",icon:"money-check-dollar"}}),n("p",[t._v("委託紀錄")])],1):t._e(),t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/admin"}}},[n("b-icon",{attrs:{pack:"fas",icon:"user-gear"}}),n("p",[t._v("用戶管理")])],1):t._e(),t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/admin/products"}}},[n("b-icon",{attrs:{pack:"fas",icon:"list-check"}}),n("p",[t._v("項目管理")])],1):t._e(),t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/admin/orders"}}},[n("b-icon",{attrs:{pack:"fas",icon:"money-check-dollar"}}),n("p",[t._v("交易管理")])],1):t._e(),t.user.isAdmin?n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/admin/questions"}}},[n("b-icon",{attrs:{pack:"fas",icon:"circle-question"}}),n("p",[t._v("問題回報")])],1):t._e(),n("b-navbar-item",{on:{click:t.logout}},[n("b-icon",{attrs:{pack:"fas",icon:"right-from-bracket"}}),n("p",[t._v("登出")])],1)],1)],1),n("div",{staticClass:"login-icon"},[n("b-navbar-item",[n("b-icon",{attrs:{pack:"fas",icon:"envelope"}})],1),n("b-navbar-item",[n("b-icon",{attrs:{pack:"fas",icon:"bell"}})],1)],1)]):t._e()]},proxy:!0}])})],1)]),n("b-modal",{attrs:{width:"750px",scroll:"keep"},model:{value:t.openLoginModal,callback:function(e){t.openLoginModal=e},expression:"openLoginModal"}},[n("div",{attrs:{id:"login-card"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col modal-white"},[n("img",{attrs:{src:r("88de")}}),n("h1",{staticClass:"loginTitle"},[t._v("會員登入")]),n("form",{staticClass:"form-group",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[n("b-field",{attrs:{label:"帳號",horizontal:"",type:t.loginType.account,message:t.loginMessage.account,"label-for":"loginAccount"}},[n("b-input",{attrs:{placeholder:"請輸入帳號",id:"loginAccount"},model:{value:t.form.login.account,callback:function(e){t.$set(t.form.login,"account",e)},expression:"form.login.account"}})],1),n("b-field",{attrs:{label:"密碼",horizontal:"",type:t.loginType.password,message:t.loginMessage.password,"label-for":"loginPassword"}},[n("b-input",{attrs:{type:"password",placeholder:"請輸入密碼",id:"loginPassword"},model:{value:t.form.login.password,callback:function(e){t.$set(t.form.login,"password",e)},expression:"form.login.password"}})],1),n("input",{staticClass:"button is-success submit",attrs:{type:"submit",value:"登入"}})],1)]),n("div",{staticClass:"col modal-red"},[n("p",[t._v("還沒建立帳號嗎？")]),n("b-button",{attrs:{type:"is-light",outlined:""},on:{click:function(e){t.openRegisterModal=!0,t.openLoginModal=!1}}},[t._v("註冊")])],1)])])]),n("b-modal",{attrs:{width:"900px",scroll:"keep"},model:{value:t.openRegisterModal,callback:function(e){t.openRegisterModal=e},expression:"openRegisterModal"}},[n("div",{attrs:{id:"register-card"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col modal-white"},[n("h1",{staticClass:"registerTitle"},[t._v("會員註冊")]),n("form",{staticClass:"form-group",on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[n("b-field",{attrs:{label:"帳號",type:t.registerType.account,message:t.registerMessage.account,"label-for":"registerAccount"}},[n("b-input",{attrs:{placeholder:"請輸入帳號",maxlength:"20",id:"registerAccount"},model:{value:t.form.register.account,callback:function(e){t.$set(t.form.register,"account",e)},expression:"form.register.account"}})],1),n("b-field",{attrs:{label:"密碼",type:t.registerType.password,message:t.registerMessage.password,"label-for":"registerPassword"}},[n("b-input",{attrs:{type:"password",placeholder:"請輸入密碼",maxlength:"20",id:"registerPassword"},model:{value:t.form.register.password,callback:function(e){t.$set(t.form.register,"password",e)},expression:"form.register.password"}})],1),n("b-field",{attrs:{label:"確認密碼",type:t.registerType.confirmationPassword,message:t.registerMessage.confirmationPassword,"label-for":"registerConfirmationPassword"}},[n("b-input",{attrs:{type:"password",placeholder:"請再次輸入密碼",id:"registerConfirmationPassword"},model:{value:t.form.register.confirmationPassword,callback:function(e){t.$set(t.form.register,"confirmationPassword",e)},expression:"form.register.confirmationPassword"}})],1),n("b-field",{attrs:{label:"暱稱",type:t.registerType.nickname,message:t.registerMessage.nickname,"label-for":"registerNickname"}},[n("b-input",{attrs:{placeholder:"請輸入暱稱",maxlength:"10",id:"registerNickname"},model:{value:t.form.register.nickname,callback:function(e){t.$set(t.form.register,"nickname",e)},expression:"form.register.nickname"}})],1),n("b-field",{attrs:{label:"使用身份",type:t.registerType.role,message:t.registerMessage.role,"label-for":"registerRole"}},[n("b-select",{attrs:{id:"registerRole"},model:{value:t.form.register.role,callback:function(e){t.$set(t.form.register,"role",e)},expression:"form.register.role"}},[n("option",{attrs:{value:"",disabled:""}},[t._v("我是委託者/創作者")]),n("option",{attrs:{value:"0"}},[t._v("委託者")]),n("option",{attrs:{value:"1"}},[t._v("創作者")])])],1),n("input",{staticClass:"button is-success submit",attrs:{type:"submit",value:"註冊"}})],1)]),n("div",{staticClass:"col modal-red"},[n("div",{staticClass:"welcome"},[n("p",[t._v("歡迎光臨")]),n("img",{attrs:{src:r("94db")}})]),n("p",[t._v("已經註冊過了？")]),n("b-button",{attrs:{type:"is-light",outlined:""},on:{click:function(e){t.openLoginModal=!0,t.openRegisterModal=!1}}},[t._v("登入")])],1)])])]),n("router-view"),n("section",{attrs:{id:"footer"}},[n("img",{attrs:{src:r("1bed")}}),n("div",{staticClass:"text"},[n("p",[t._v("Copyright © BlackCat 2022")]),n("div",{staticClass:"link-group"},[n("a",{attrs:{href:"https://twitter.com/dream_ds_2022?s=20&t=9ZY_d7N8jpzBbexjXNa1LQ",target:"_blank"}},[t._v("官方推特")]),n("a",{attrs:{href:"https://www.plurk.com/dream_department_store",target:"_blank"}},[t._v("官方噗浪")]),n("router-link",{attrs:{to:"/terms"}},[t._v("服務條款與隱私權政策")])],1)])])],1)},F=[],J={data:function(){return{openLoginModal:!1,openRegisterModal:!1,form:{login:{account:"",password:""},register:{account:"",password:"",confirmationPassword:"",nickname:"",role:""}}}},computed:{loginType:function(){return{account:0===this.form.login.account.length?null:this.form.login.account.length>=4&&this.form.login.account.length<=20?"is-success":"is-danger",password:0===this.form.login.password.length?null:this.form.login.password.length>=4&&this.form.login.password.length<=20?"is-success":"is-danger"}},loginMessage:function(){return{account:0===this.form.login.account.length||this.form.login.account.length>=4&&this.form.login.account.length<=20?null:"帳號格式錯誤",password:0===this.form.login.password.length||this.form.login.password.length>=4&&this.form.login.password.length<=20?null:"密碼格式錯誤"}},registerType:function(){return{account:0===this.form.register.account.length?null:this.form.register.account.length>=4&&this.form.register.account.length<=20?"is-success":"is-danger",password:0===this.form.register.password.length?null:this.form.register.password.length>=4&&this.form.register.password.length<=20?"is-success":"is-danger",confirmationPassword:0===this.form.register.confirmationPassword.length?null:this.form.register.password===this.form.register.confirmationPassword?"is-success":"is-danger",nickname:0===this.form.register.nickname.length?null:this.form.register.nickname.length>=1&&this.form.register.nickname.length<=10?"is-success":"is-danger",role:"0"===this.form.register.role||"1"===this.form.register.role?"is-success":null}},registerMessage:function(){return{account:0===this.form.register.account.length||this.form.register.account.length>=4&&this.form.register.account.length<=20?"帳號長度為 4 到 20 個字":"帳號格式錯誤",password:0===this.form.register.password.length||this.form.register.password.length>=4&&this.form.register.password.length<=20?"密碼長度為 4 到 20 個字":"密碼格式錯誤",confirmationPassword:0===this.form.register.confirmationPassword.length||this.form.register.password===this.form.register.confirmationPassword?null:"請輸入正確的密碼",nickname:0===this.form.register.nickname.length||this.form.register.nickname.length>=1&&this.form.register.nickname.length<=10?"暱稱長度為 10 個字以內":"暱稱格式錯誤",role:"0"===this.form.register.role||"1"===this.form.register.role?null:"請選擇身份類別"}}},methods:{register:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.form.register.role.length){e.next=3;break}return t.$swal({icon:"error",title:"錯誤",text:"身分欄位不能空白"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,t.api.post("/users",t.form.register);case 6:t.$swal({imageUrl:"https://res.cloudinary.com/duplahipf/image/upload/v1644452906/%E5%A4%A2%E7%99%BE%E8%B2%A8logo_mxa6fd.png",imageWidth:400,title:"註冊成功",text:"您成功加入夢百貨的會員"}),t.openRegisterModal=!1,t.openLoginModal=!0,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),t.$swal({icon:"error",title:"錯誤",text:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},login:function(){this.$store.dispatch("user/login",this.form.login),this.openLoginModal=!1},logout:function(){this.$store.dispatch("user/logout")}},created:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("user/getUserInfo");case 1:case"end":return e.stop()}}),e)})))()}},Q=J,W=Object(x["a"])(Q,H,F,!1,null,null,null),X=W.exports,Y=(r("5abe"),r("5903"),r("f9d5")),Z=r.n(Y),G=(r("4413"),r("ecee")),K=r("c074"),V=r("ad3d"),tt={computed:{user:function(){return this.$store.getters["user/user"]}}};G["c"].add(K["k"],K["h"],K["g"],K["C"],K["y"],K["w"],K["s"],K["F"],K["A"],K["B"],K["E"],K["e"],K["r"],K["z"],K["u"],K["x"],K["t"],K["q"],K["l"],K["f"],K["i"],K["j"],K["v"],K["n"],K["m"],K["d"],K["c"],K["b"],K["a"],K["o"],K["p"],K["g"],K["h"],K["D"]),a["a"].component("vue-fontawesome",V["a"]),a["a"].use(i["a"],{defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas"}),a["a"].use(Z.a),a["a"].mixin(tt),a["a"].config.productionTip=!1,new a["a"]({router:j,store:S,render:function(t){return t(X)}}).$mount("#app")},5903:function(t,e,r){},"5ef4":function(t,e,r){t.exports=r.p+"img/2022011601.989bb4cc.jpg"},"88de":function(t,e,r){t.exports=r.p+"img/夢百貨_ribbon01.51848d80.png"},"94db":function(t,e,r){t.exports=r.p+"img/夢百貨logo00.f6421788.png"},e915:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-card"},[r("router-link",{attrs:{to:"/products/"+t.product._id}},[r("div",{staticClass:"card-image"},[r("img",{attrs:{src:t.product.images[0]}})])]),r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("router-link",{attrs:{to:"/products/"+t.product._id}},[r("h3",[t._v(t._s(t.product.name))])])],1),r("router-link",{attrs:{to:"/member/"+t.product.illustrator._id}},[r("div",{staticClass:"illustrator-name"},[r("div",{staticClass:"illustrator-headshot"},[r("img",{attrs:{src:t.product.illustrator.headshot}})]),r("p",[t._v(t._s(t.product.illustrator.nickname))])])]),r("div",{staticClass:"tags"},t._l(t.product.tags,(function(e){return r("b-tag",{key:e.index,attrs:{rounded:""}},[t._v(t._s("#"+e))])})),1),r("p",{staticClass:"card-price"},[t._v(t._s("NT$"+t.product.price+"+"))])],1)],1)},o=[],s={props:{product:{type:Object,require:!0}}},a=s,i=r("2877"),u=Object(i["a"])(a,n,o,!1,null,null,null);e["a"]=u.exports},e9fe:function(t,e,r){t.exports=r.p+"img/2022011603.0137d5aa.jpg"}});
//# sourceMappingURL=app.07efef2a.js.map